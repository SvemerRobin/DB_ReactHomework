(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{21:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(14),i=n.n(s),l=(n(21),n(6)),r=n(2),o=n(0);var j=function(){return Object(o.jsx)("nav",{className:"nav",children:Object(o.jsxs)("ul",{className:"nav__container",children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)("a",{href:"/",className:"nav__link",children:"Travel updates"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)("a",{href:"/",className:"nav__link",children:"Reviews"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)("a",{href:"/",className:"nav__link",children:"About"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)("a",{href:"/",className:"nav__link",children:"Contact"})})]})})},d=n(5);var b=function(){var e=Object(r.f)().id,t=Object(c.useState)({}),n=Object(d.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),j=Object(d.a)(i,2),b=j[0],u=j[1],h=Object(c.useState)(""),O=Object(d.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(0),f=Object(d.a)(p,2),_=f[0],v=f[1],N=Object(c.useState)(0),g=Object(d.a)(N,2),y=g[0],k=g[1];return Object(c.useEffect)((function(){return function(e){var t=fetch("http://localhost:4000/articles/".concat(e)),n=fetch("http://localhost:4000/articles/");Promise.all([t,n]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=t[0],c=t[1];s(n),u(n.content.split(".").filter((function(e,t,n){return t<=n.length/2})).join(".")+"."),x(n.content.split(".").filter((function(e,t,n){return t>n.length/2})).join(".")+".");var a=parseInt(e),i=c.findIndex((function(e){return e.id===a}));i<=0?(v(0),k(c[1].id)):(v(c[i-1].id),i<c.length?k(c[i+1].id):k(c[i].id))}))}(e)}),[e]),Object(o.jsx)("div",{children:Object(o.jsxs)("article",{children:[Object(o.jsx)("h2",{className:"title title--details",children:a.title}),Object(o.jsxs)("ul",{className:"info__container info__container--details",children:[Object(o.jsx)("li",{className:"info__item",children:a.tag}),Object(o.jsxs)("li",{className:"info__item",children:["Added by\xa0",Object(o.jsx)("span",{className:"info__mark",children:a.author})]}),Object(o.jsx)("li",{className:"info__item",children:a.date})]}),Object(o.jsx)("img",{src:"".concat(a.imgUrl),alt:"Bike"}),Object(o.jsxs)("div",{className:"content__container",children:[Object(o.jsx)("p",{children:b}),Object(o.jsx)("p",{className:"saying",children:"Life is like riding a bicycle, to keep your balance you must keep moving"}),Object(o.jsx)("p",{children:m}),Object(o.jsxs)("footer",{className:"footer",children:[0!==_&&Object(o.jsx)(l.b,{to:"/details/".concat(_),children:Object(o.jsx)("button",{className:"footer__link",children:"previous article"})}),y&&Object(o.jsx)(l.b,{className:"footer__link--next",to:"/details/".concat(y),children:Object(o.jsx)("button",{className:"footer__link",children:"next article"})})]})]})]})})};var u=function(e){var t=e.setIsModalOpen,n=e.setTempArticle,c={id:0,title:"",tag:"",author:"",date:"",imgUrl:"",saying:"",content:""};return Object(o.jsx)("div",{className:"add__container",children:Object(o.jsx)("button",{type:"button",onClick:function(){t(!0),n(c)},className:"button",children:" + Add Article"})})},h=n(7);var O=function(e){var t=e.article,n=e.setTempArticle,c=e.setIsModalOpen,a=e.getArticlesFromServer,s=t.content.substring(0,1e3);return Object(o.jsxs)("article",{children:[Object(o.jsx)("h2",{className:"title",children:t.title}),Object(o.jsxs)("ul",{className:"info__container",children:[Object(o.jsx)("li",{className:"info__item",children:t.tag}),Object(o.jsxs)("li",{className:"info__item",children:["Added by\xa0",Object(o.jsx)("span",{className:"info__mark",children:t.author})]}),Object(o.jsx)("li",{className:"info__item",children:t.date})]}),Object(o.jsxs)("div",{className:"actions__container",children:[Object(o.jsx)("button",{type:"button",onClick:function(){c(!0),n((function(e){return Object(h.a)(Object(h.a)({},e),t)}))},className:"actions__btn",children:"Edit"}),Object(o.jsx)("button",{type:"button",onClick:function(){return function(){fetch("http://localhost:4000/articles/".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),{method:"DELETE"}).then((function(){a()}))}(t.id)},className:"actions__btn",children:"Delete"})]}),Object(o.jsx)("img",{src:t.imgUrl,alt:"Bike"}),Object(o.jsx)("div",{className:"content__container",children:Object(o.jsx)("p",{children:s})}),Object(o.jsx)("div",{className:"readmore__container",children:Object(o.jsx)(l.b,{to:"/details/".concat(t.id),children:Object(o.jsx)("button",{type:"button",className:"button",children:"Read More"})})})]})};var m=function(e){var t=e.numberOfArticlesToDisplay,n=e.startDisplayIndex,c=e.articlesLength,a=e.setStartDisplayIndex;return Object(o.jsxs)("footer",{className:"footer",children:[n>0&&Object(o.jsx)("button",{onClick:function(e){return a(n-t)},className:"footer__link",children:"previous"}),n+t<c&&Object(o.jsx)("button",{onClick:function(e){return a(n+t)},className:"footer__link footer__link--next",children:"next"})]})},x=n(9);var p=function(e){var t=e.setTempArticle,n=e.tempArticle,c=e.isModalOpen,a=e.setIsModalOpen,s=e.getArticlesFromServer,i=function(e){var n=e.target,c=n.name,a=n.value;t((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(x.a)({},c,a))}))},l="modal__overlay";return c&&(l+=" show-modal"),Object(o.jsx)("div",{className:l,children:Object(o.jsx)("div",{className:"modal",children:Object(o.jsxs)("div",{className:"modal__content",children:[Object(o.jsx)("h2",{className:"title",children:"Add/Edit article"}),Object(o.jsxs)("div",{className:"inputs__container",children:[Object(o.jsx)("input",{value:n.title,type:"text",onChange:i,name:"title",className:"input",placeholder:"Please enter title"}),Object(o.jsx)("input",{value:n.tag,type:"text",onChange:i,name:"tag",className:"input",placeholder:"Please enter tag"}),Object(o.jsx)("input",{value:n.author,type:"text",onChange:i,name:"author",className:"input",placeholder:"Please enter author"}),Object(o.jsx)("input",{value:n.date,type:"text",onChange:i,name:"date",className:"input",placeholder:"Please enter date"}),Object(o.jsx)("input",{value:n.imgUrl,type:"text",onChange:i,name:"imgUrl",className:"input",placeholder:"Please enter image url"}),Object(o.jsx)("input",{value:n.saying,type:"text",onChange:i,name:"saying",className:"input",placeholder:"Please enter saying"})]}),Object(o.jsx)("textarea",{value:n.content,onChange:i,name:"content",className:"textarea",cols:28,rows:7,placeholder:"Please enter content"}),Object(o.jsxs)("div",{className:"modal__buttons",children:[Object(o.jsx)("button",{type:"button",onClick:function(){return a(!1)},className:"button",children:"Cancel"}),Object(o.jsx)("button",{type:"button",onClick:function(){return function(e){var t=e.id,n=Object(h.a)({},e),c=0===t?"http://localhost:4000/articles":"http://localhost:4000/articles/".concat(t),i=0===t?"POST":"PUT";0===t&&delete n.id,fetch(c,{method:i,headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(){a(!1),s()}))}(n)},className:"button button--pink",children:"Save"})]})]})})})};var f=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(d.a)(s,2),l=i[0],r=i[1],j=Object(c.useState)(!1),b=Object(d.a)(j,2),h=b[0],x=b[1],f=Object(c.useState)([]),_=Object(d.a)(f,2),v=_[0],N=_[1],g=Object(c.useState)(0),y=Object(d.a)(g,2),k=y[0],S=y[1],A=Object(c.useState)({id:0,title:"",tag:"",author:"",date:"",imgUrl:"",saying:"",content:""}),C=Object(d.a)(A,2),I=C[0],T=C[1],P=function(){fetch("http://localhost:4000/articles").then((function(e){return e.json()})).then((function(e){r(!0),N(e)}),(function(e){r(!0),a(e)}))};return Object(c.useEffect)((function(){return P()}),[]),n?Object(o.jsx)("div",{children:"Error!"}):l?Object(o.jsxs)("main",{children:[Object(o.jsx)(u,{setIsModalOpen:x,setTempArticle:T}),v.filter((function(e,t){return t>=k&&t<k+3})).map((function(e){return Object(o.jsx)(O,{article:e,setIsModalOpen:x,setTempArticle:T,getArticlesFromServer:P},e.id)})),Object(o.jsx)(m,{numberOfArticlesToDisplay:3,startDisplayIndex:k,articlesLength:v.length,setStartDisplayIndex:S}),Object(o.jsx)(p,{isModalOpen:h,tempArticle:I,setTempArticle:T,setIsModalOpen:x,getArticlesFromServer:P})]}):Object(o.jsx)("div",{children:"Loading..."})};var _=function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(j,{}),Object(o.jsx)(l.a,{children:Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"./",children:Object(o.jsx)(f,{})}),Object(o.jsx)(r.a,{path:"./details/:id",children:Object(o.jsx)(b,{})})]})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(_,{})}),document.getElementById("root")),v()}},[[31,1,2]]]);
//# sourceMappingURL=main.5e66b989.chunk.js.map